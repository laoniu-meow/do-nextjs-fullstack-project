generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  password  String
  role      Role     @default(USER)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

model Company {
  id                 String        @id @default(cuid())
  name               String
  registrationNumber String?
  address            String?
  country            String?
  postalCode         String?
  email              String?
  contact            String?
  logo               String?
  banner             String?
  status             CompanyStatus @default(DRAFT)
  createdAt          DateTime      @default(now())
  updatedAt          DateTime      @updatedAt

  @@map("companies")
}

model CompanyStaging {
  id                 String        @id @default(cuid())
  name               String
  registrationNumber String?
  address            String?
  country            String?
  postalCode         String?
  email              String?
  contact            String?
  logo               String?
  banner             String?
  status             StagingStatus @default(PENDING)
  reviewedBy         String?
  reviewedAt         DateTime?
  createdAt          DateTime      @default(now())
  updatedAt          DateTime      @updatedAt

  @@map("company_staging")
}

model Header {
  id              String        @id @default(cuid())
  backgroundColor String        @default("#ffffff")
  borderColor     String        @default("#e0e0e0")
  borderHeight    String        @default("1px")
  borderShadow    String        @default("none")
  logoWidth       String        @default("4.35rem")
  logoHeight      String        @default("6.5rem")
  logoOrientation String        @default("portrait")
  status          CompanyStatus @default(PUBLISHED)
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  headerHeight    String        @default("5rem")
  headerPosition  String        @default("fixed")

  @@map("headers")
}

model HeaderStaging {
  id              String        @id @default(cuid())
  backgroundColor String        @default("#ffffff")
  borderColor     String        @default("#e0e0e0")
  borderHeight    String        @default("1px")
  borderShadow    String        @default("none")
  logoWidth       String        @default("4.35rem")
  logoHeight      String        @default("6.5rem")
  logoOrientation String        @default("portrait")
  status          StagingStatus @default(PENDING)
  reviewedBy      String?
  reviewedAt      DateTime?
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @updatedAt
  headerHeight    String        @default("5rem")
  headerPosition  String        @default("fixed")

  @@map("header_staging")
}

enum CompanyStatus {
  DRAFT
  PUBLISHED
  ARCHIVED
}

enum StagingStatus {
  PENDING
  APPROVED
  REJECTED
}

enum Role {
  USER
  ADMIN
}
